{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock title %}</title>
    <link rel="icon" type="image/png" sizes="192x192" href="{% static 'images/logo-main.png' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Base.css -->
    <link rel="stylesheet" href="{% static "css/base.css" %}" />
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Droid+Serif&display=swap" rel="stylesheet">
    <!-- Google Font: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
</head>

<body class="d-flex flex-column min-vh-100">
    {% comment %} Navabar {% endcomment %}
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <!-- Logo -->
                <a class="navbar-brand" href="/">
                    <img src="{% static 'images/logo-main.ico' %}" width="70" height="60" alt="Beast Logo">
                    <span class="brand-text">FOXXY DRIP</span>
                </a>
                <!-- Mobile toggle button -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Navbar links and actions -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <!-- Center Nav Links -->
                    <ul class="navbar-nav mx-auto mb-2 mb-lg-0 text-center">
                        <li class="nav-item">
                            <a class="nav-link {% block homeactive %}{% endblock homeactive %}" aria-current="page" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% block shopactive %}{% endblock shopactive %}" href="/shop">Shop</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {% block contactusactive %}{% endblock contactusactive %}" href="/contactus">Contact us</a>
                        </li>
                        {% if request.user.is_authenticated %}
                            <li class="nav-item">
                                <a class="nav-link {% block customizationactive %}{% endblock customizationactive %}" href="/customize">Customize</a>
                            </li>
                            {%endif%}
                        </ul>

                        <!-- Right Buttons -->
                        <div class="d-flex justify-content-center align-items-center gap-3 mt-3 mt-lg-0">
                            {% if request.user.is_authenticated %}
                                <a href="/dash/wishlist" class="text-white fs-5 fav-hover">
                                    <i class="bi bi-heart"></i>
                                </a>
                                <a href="/view_cart" class="position-relative text-white fs-5">
                                    <i class="bi bi-cart3"></i>
                                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                        {{ request.user.cart_items.count }}
                                    </span>
                                </a>
                            {% else %}
                                <a class="btn btn-sm btn-outline-light btn-login">Login/Register</a>
                            {% endif %}
                        </div>
                </div>
            </div>
        </nav>

        <!-- Auth Modal -->
        <div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true" style="overflow: visible;">
        <div class="modal-dialog modal-lg modal-dialog-centered" style="max-width: 800px; overflow: visible;">
            <div class="modal-content p-0 d-flex flex-lg-row flex-column"
        style="font-family: 'Poppins', sans-serif; height: 550px; max-height: 90vh; border-radius: 0; overflow: hidden;">

            <!-- Left Side Image -->
            <div class="w-100 w-lg-50 d-none d-lg-block" style="height: 100%;">
                <img src="{% static 'images/login1.jpg' %}" alt="Beast"
                    class="img-fluid h-100 w-100" style="object-fit: cover; ">
            </div>

            <!-- Right Side Content -->
            <div class="bg-white w-100 w-lg-50 position-relative p-4" style="overflow-y: auto;">
                
                <!-- Close Button -->
                <button type="button" data-bs-dismiss="modal" aria-label="Close" class="custom-close-button">&times;</button>

                <!-- Tab Buttons -->
                <div class="d-flex mb-4">
                <button id="loginTab" class="btn w-50 py-2 border-0 fw-semibold text-white" style="background: black;">Login</button>
                <button id="signupTab" class="btn w-50 py-2 border-0 fw-semibold text-black" style="background: #f2f2f2;">Sign Up</button>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="auth-form" method="POST" action="{% url 'login_user' %}">
                {% csrf_token %}
                <div class="mb-3 input-group">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-person-plus"></i></span>
                    <input type="text" name="username" class="form-control border-start-0" placeholder="Username / Email" required>
                </div>
                <div class="mb-3 input-group">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-key"></i></span>
                    <input type="password" name="password" class="form-control border-start-0" placeholder="Password" required>
                    <span class="input-group-text bg-white"><i class="bi bi-eye"></i></span>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="rememberMe">
                    <label class="form-check-label" for="rememberMe">Remember me</label>
                    </div>
                    <a href="#" class="text-decoration-none">Forgot Password?</a>
                </div>
                <button type="submit" class="btn btn-dark w-100 fw-semibold">Sign In</button>
                </form>

                <!-- Sign Up Form -->
                <form id="signupForm" class="auth-form" method="POST" action="{% url 'register_user' %}">
                {% csrf_token %}
                <div class="mb-3 input-group">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-at"></i></span>
                    <input type="email" name="email" class="form-control border-start-0" placeholder="Email" required>
                </div>
                <div class="mb-3 d-flex gap-2">
                    <div class="input-group w-50">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-person"></i></span>
                    <input type="text" name="first_name" class="form-control border-start-0" placeholder="First Name" required>
                    </div>
                    <div class="input-group w-50">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-person"></i></span>
                    <input type="text" name="last_name" class="form-control border-start-0" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="mb-3 input-group">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-key"></i></span>
                    <input type="password" name="password"  class="form-control border-start-0" placeholder="Password" required>
                    <span class="input-group-text bg-white"><i class="bi bi-eye"></i></span>
                </div>
                <div class="mb-3 input-group">
                    <span class="input-group-text bg-white border-end-0"><i class="bi bi-key"></i></span>
                    <input type="password" name="confirm_password" class="form-control border-start-0" placeholder="Confirm Password" required>
                    <span class="input-group-text bg-white"><i class="bi bi-eye"></i></span>
                </div>
                <div class="form-check mb-2">
                    <input class="form-check-input" type="checkbox" id="termsCheck">
                    <label class="form-check-label fw-semibold" for="termsCheck">I accept the Terms of Service and Privacy Policy</label>
                </div>
                
                <button type="submit" class="btn btn-dark w-100 fw-semibold">Sign Up</button>
                </form>
            </div>
            </div>
        </div>
        </div>
    
    {% comment %} Navbar {% endcomment %}
        
    
    
    <main class="flex-grow-1">
        {% block body %}
        {% endblock body %}
    </main>
    
    {% comment %} Footer {% endcomment %}
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-column first-column">
            <h3>Foxxy Drip</h3>
            <p style="text-align: justify;">At Foxxy Drip, we believe that fashion should be both stylish and comfortable. Our products are designed to make you feel confident and expressive, with a focus on bringing your personality to life through custom designs. Our tagline, "Where Style Meets Soul," reflects our commitment to creating premium and comfortable clothing When you wear Foxxy Drip, you're not just wearing clothes - you're wearing your soul.</p>
            <div class="social-icons">
                <a href="https://www.instagram.com/foxxy_drip"><i class="bi bi-instagram"></i></a>
                <a href="https://www.facebook.com/profile.php?id=61578961535494"><i class="bi bi-facebook"></i></a>
                <a href="https://www.youtube.com/"><i class="bi bi-youtube"></i></a>
            </div>
            </div>

            <div class="footer-column">
            <h4>Quick Links</h4>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/shop">Shop</a></li>
                <li><a href="/contactus">Contact Us</a></li>
                <li><a href="/aboutus">About Us</a></li>
            </ul>
            </div>

            <div class="footer-column">
            <h4>Support</h4>
            <ul>
                <li><a href="/FAQ">FAQs</a></li>
                <li><a href="#">Shipping</a></li>
                <li><a href="#">Returns</a></li>
                <li><a href="#">Privacy Policy</a></li>
            </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Foxxy Drip. All rights reserved.</p>
        </div>
    </footer>
    {% comment %} Footer {% endcomment %}


    <script>
    const loginTab = document.getElementById('loginTab');
    const signupTab = document.getElementById('signupTab');
    const loginForm = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');

    loginTab.onclick = () => {
        loginForm.style.display = 'block';
        signupForm.style.display = 'none';
        loginTab.classList.add('text-white');
        loginTab.style.background = 'black';
        signupTab.classList.remove('text-white');
        signupTab.style.background = '#f2f2f2';
        signupTab.style.color = 'black';
    };

    signupTab.onclick = () => {
        loginForm.style.display = 'none';
        signupForm.style.display = 'block';
        signupTab.classList.add('text-white');
        signupTab.style.background = 'black';
        loginTab.classList.remove('text-white');
        loginTab.style.background = '#f2f2f2';
        loginTab.style.color = 'black';
    };

    // Trigger modal on login button
    document.querySelector('.btn-login').addEventListener('click', function () {
        const modal = new bootstrap.Modal(document.getElementById('authModal'));
        modal.show();
        loginTab.click(); // default to sign up
    });
    </script>



    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>