{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock title %}</title>
    <link rel="icon" type="image/png" sizes="192x192" href="{% static 'images/logo-main.png' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Base.css -->
    <link rel="stylesheet" href="{% static "css/base.css" %}" />
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Droid+Serif&display=swap" rel="stylesheet">
    <!-- Google Font: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!-- Toastr CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <!-- jQuery (Required for Toastr) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Toastr JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <!-- Bootstrap Icons CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Include Font Awesome in <head> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

</head>

<body class="d-flex flex-column min-vh-100">

    {% comment %} Navabar {% endcomment %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <!-- Logo -->
            <a class="navbar-brand d-flex align-items-center" href="/">
                <img src="{% static 'images/logo-main.ico' %}" width="50" height="50" alt="Beast Logo" class="me-2">
                <span class="brand-text">FOXXY DRIP</span>
            </a>

            <!-- Mobile toggle button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar content -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Center Nav Links -->
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0 text-center">
                    <li class="nav-item">
                        <a class="nav-link {% block homeactive %}{% endblock homeactive %}" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% block shopactive %}{% endblock shopactive %}" href="{% url "shop" %}">Shop</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% block contactusactive %}{% endblock contactusactive %}" href="{% url "contactus" %}">Contact us</a>
                    </li>
                    {% if request.user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link" href="https://wa.me/919121759882">Customize</a>
                    </li>
                    {% endif %}
                </ul>

                <!-- Right Buttons -->
                <div class="d-flex flex-column flex-lg-row align-items-center gap-3 mt-3 mt-lg-0">
                    {% if request.user.is_authenticated %}
                        <a href="/dash/wishlist" class="text-white fs-5 fav-hover">
                            <i class="bi bi-heart"></i>
                        </a>
                        <a href="/dash/view_cart" class="position-relative text-white fs-5">
                            <i class="bi bi-cart3"></i>
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                {{ request.user.cart_items.count }}
                            </span>
                        </a>
                        
                        <!-- Wrap dropdown here -->
                        <div class="dropdown">
                            <a class="nav-link {{ block.profileactive_class }} dropdown-toggle text-light" href="#"
                            id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <img src="{{ request.user.profile.profile_picture.url }}" alt="" class="rounded-circle" width="35" height="35">
                                {{ request.user.username }}
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li><a class="dropdown-item" href="{% url 'profile' %}">Profile</a></li>
                                <li><a class="dropdown-item" href="{% url 'manage_address' %}">Manage Addresses</a></li>
                                <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                            </ul>
                        </div>
                    {% else %}
                        <a class="nav-link btn btn-sm btn-login {% block login_registeractive %}{% endblock login_registeractive %}" href="{% url "login" %}">Login/Register</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>
    
    {% comment %} Navbar {% endcomment %}
        
    
    
    <main class="flex-grow-1">
        {% block body %}
        {% endblock body %}
    </main>
    
    {% comment %} Footer {% endcomment %}
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-column first-column">
            <h3>Foxxy Drip</h3>
            <p style="text-align: justify;">At Foxxy Drip, we believe that fashion should be both stylish and comfortable. Our products are designed to make you feel confident and expressive, with a focus on bringing your personality to life through custom designs. Our tagline, "Where Style Meets Soul," reflects our commitment to creating premium and comfortable clothing When you wear Foxxy Drip, you're not just wearing clothes - you're wearing your soul.</p>
            <div class="social-icons">
                <a href="https://www.instagram.com/foxxy_drip"><i class="bi bi-instagram"></i></a>
                <a href="https://www.facebook.com/profile.php?id=61578961535494"><i class="bi bi-facebook"></i></a>
                <a href="https://www.youtube.com/"><i class="bi bi-youtube"></i></a>
            </div>
            </div>

            <div class="footer-column">
            <h4>Quick Links</h4>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/shop">Shop</a></li>
                <li><a href="/contactus">Contact Us</a></li>
                <li><a href="/aboutus">About Us</a></li>
            </ul>
            </div>

            <div class="footer-column">
            <h4>Support</h4>
            <ul>
                <li><a href="/FAQ">FAQs</a></li>
                <li><a href="#">Shipping</a></li>
                <li><a href="#">Returns</a></li>
                <li><a href="#">Privacy Policy</a></li>
            </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Foxxy Drip. All rights reserved.</p>
        </div>
    </footer>
    {% comment %} Footer {% endcomment %}

    <!-- Modal -->
    <!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">  <!-- Added modal-lg here -->
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="ModalLabel"></h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="ModalBody"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
    </script>

    <!-- Alerts -->
    <script>
        $(document).ready(function () {
            {% for message in messages %}
                toastr.options = {
                    progressBar: true,
                    positionClass: "toast-top-right",
                    timeOut: 5000
                };
    
                {% if message.tags == "success" %}
                    toastr.success("{{ message }}");
                {% elif message.tags == "error" %}
                    toastr.error("{{ message }}");
                {% elif message.tags == "warning" %}
                    toastr.warning("{{ message }}");
                {% else %}
                    toastr.info("{{ message }}");
                {% endif %}
            {% endfor %}
        });
    </script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>